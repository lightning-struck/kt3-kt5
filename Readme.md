# –ü—Ä–æ–µ–∫—Ç: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å JWT –∏ Docker

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º, –±—ç–∫–µ–Ω–¥–æ–º –∏ PostgreSQL, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è —á–µ—Ä–µ–∑ Docker.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up --build -d

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
docker-compose exec backend bunx prisma migrate dev --name init

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
docker-compose exec postgres psql -U postgres -d mydb -c "SELECT * FROM \"User\";"

üîß –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏
sudo chmod -R 777 ./
sudo chmod -R 777 ./client/
sudo chmod -R 777 ./backend/


üõ†Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∏—Å—Ç–µ–º—ã

üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Sign Up)
–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π (–ª–æ–≥–∏–Ω, email, —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–∞—Ä–æ–ª—å)

–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è —Å –ø–æ–º–æ—â—å—é bcrypt

–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ PostgreSQL —á–µ—Ä–µ–∑ Prisma

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT-—Ç–æ–∫–µ–Ω–∞ (—Å–æ–¥–µ—Ä–∂–∏—Ç userId –≤ payload)

–í—Ö–æ–¥ (Sign In)
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è

–í—ã–¥–∞—á–∞ JWT-—Ç–æ–∫–µ–Ω–∞ (—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è - 7 –¥–Ω–µ–π)

üîë –†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–æ–º
Frontend
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ localStorage

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization: Bearer <token>

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ /user/me –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

Backend
Middleware authenticate –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞

–û—à–∏–±–∫–∏:

401 - –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω

404 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

üë• –°–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

–¢–æ–∫–µ–Ω –∏–∑ localStorage ‚Üí –ó–∞–ø—Ä–æ—Å /user/me ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ –æ—à–∏–±–∫–µ 401

–í—ã—Ö–æ–¥ (Logout):

–£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ localStorage

–°–±—Ä–æ—Å –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≤ axios

üê≥ Docker-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–°–µ—Ç—å:

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ CORS:

–†–∞–∑—Ä–µ—à–µ–Ω—ã –¥–æ–º–µ–Ω—ã: http://localhost:3000, http://frontend:3000

–†–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏: Authorization, Content-Type

–ì–æ—Ç–æ–≤—ã–µ Dockerfile –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã